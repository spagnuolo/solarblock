var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function g(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function m(t,e){t.value=null==e?"":e}function $(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}let b;function v(t){b=t}function x(){if(!b)throw new Error("Function called outside component initialization");return b}const y=[],w=[],k=[],R=[],C=Promise.resolve();let _=!1;function E(t){k.push(t)}function N(t){R.push(t)}let j=!1;const O=new Set;function S(){if(!j){j=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];v(e),z(e.$$)}for(v(null),y.length=0;w.length;)w.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];O.has(e)||(O.add(e),e())}k.length=0}while(y.length);for(;R.length;)R.pop()();_=!1,j=!1,O.clear()}}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const L=new Set;let T;function A(){T={r:0,c:[],p:T}}function M(){T.r||r(T.c),T=T.p}function P(t,e){t&&t.i&&(L.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),T.c.push((()=>{L.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function B(t,e){const n=e.token={};function r(t,r,o,c){if(e.token!==n)return;e.resolved=c;let l=e.ctx;void 0!==o&&(l=l.slice(),l[o]=c);const i=t&&(e.current=t)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(A(),U(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),M())})):e.block.d(1),i.c(),P(i,1),i.m(e.mount(),e.anchor),u=!0),e.block=i,e.blocks&&(e.blocks[r]=i),u&&S()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=x();if(t.then((t=>{v(n),r(e.then,1,e.value,t),v(null)}),(t=>{if(v(n),r(e.catch,2,e.error,t),v(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function H(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function W(t){t&&t.c()}function I(t,n,c,l){const{fragment:i,on_mount:u,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,c),l||E((()=>{const n=u.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(E)}function D(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(y.push(t),_||(_=!0,C.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,o,c,l,i,s,a=[-1]){const f=b;v(e);const d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let g=!1;if(d.ctx=c?c(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),g&&K(e,t)),n})):[],d.update(),g=!0,r(d.before_update),d.fragment=!!l&&l(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();o.intro&&P(e.$$.fragment),I(e,o.target,o.anchor,o.customElement),S()}v(f)}class V{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(e){let n,r,o,c,s;return{c(){n=a("button"),r=f(e[0]),p(n,"class","w-full my-2 p-2 bg-blue-400 hover:bg-blue-300 rounded"),n.disabled=o=!e[1]},m(t,o){i(t,n,o),l(n,r),c||(s=g(n,"click",e[2]),c=!0)},p(t,[e]){1&e&&h(r,t[0]),2&e&&o!==(o=!t[1])&&(n.disabled=o)},i:t,o:t,d(t){t&&u(n),c=!1,s()}}}function J(t,e,n){let{label:r="Button"}=e,{url:o="/"}=e,{json:c={}}=e,{active:l=!0}=e;return t.$$set=t=>{"label"in t&&n(0,r=t.label),"url"in t&&n(3,o=t.url),"json"in t&&n(4,c=t.json),"active"in t&&n(1,l=t.active)},[r,l,function(){let t=new XMLHttpRequest;t.open("POST",o,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){let e=JSON.parse(t.responseText);console.log(e),window.location.href="/"}};let e=JSON.stringify(c);console.log(e),t.send(e)},o,c]}class F extends V{constructor(t){super(),q(this,t,J,G,c,{label:0,url:3,json:4,active:1})}}function X(t,e,n){const r=t.slice();return r[4]=e[n],r}function Q(e){let n,r,o=e[4]+"";return{c(){n=a("option"),r=f(o),n.__value=e[4],n.value=n.__value},m(t,e){i(t,n,e),l(n,r)},p:t,d(t){t&&u(n)}}}function Y(t){let e,n,o,c,f,h,b,v,x,y,w,k,R,C,_,N,j=t[1],O=[];for(let e=0;e<j.length;e+=1)O[e]=Q(X(t,j,e));return R=new F({props:{label:"Create",url:"/createEnergy",json:t[0]}}),{c(){e=a("div"),n=a("div"),o=a("div"),c=a("div"),c.textContent="Erstelle Energie",f=d(),h=a("div"),b=d(),v=a("input"),x=d(),y=a("select"),w=a("option"),w.textContent="Wähle die Organisation des neuen Besitzers";for(let t=0;t<O.length;t+=1)O[t].c();k=d(),W(R.$$.fragment),p(c,"class","my-2 text-3xl"),p(v,"placeholder","Kapazität in kWh, bspw. 120"),p(v,"class","svelte-1fmpga3"),w.__value="",w.value=w.__value,w.selected=!0,w.disabled=!0,p(y,"class","svelte-1fmpga3"),void 0===t[0].newOwner&&E((()=>t[3].call(y))),p(o,"class","p-2 bg-blue-200 rounded-lg"),p(n,"class","w-full lg:w-1/2 p-2"),p(e,"class","svg-bg bg-gray-200 w-full h-full text-lg shadow-inner flex justify-center overflow-hidden")},m(r,u){i(r,e,u),l(e,n),l(n,o),l(o,c),l(o,f),l(o,h),l(o,b),l(o,v),m(v,t[0].capacity),l(o,x),l(o,y),l(y,w);for(let t=0;t<O.length;t+=1)O[t].m(y,null);$(y,t[0].newOwner),l(o,k),I(R,o,null),C=!0,_||(N=[g(v,"input",t[2]),g(y,"change",t[3])],_=!0)},p(t,[e]){if(3&e&&v.value!==t[0].capacity&&m(v,t[0].capacity),2&e){let n;for(j=t[1],n=0;n<j.length;n+=1){const r=X(t,j,n);O[n]?O[n].p(r,e):(O[n]=Q(r),O[n].c(),O[n].m(y,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=j.length}3&e&&$(y,t[0].newOwner);const n={};1&e&&(n.json=t[0]),R.$set(n)},i(t){C||(P(R.$$.fragment,t),C=!0)},o(t){U(R.$$.fragment,t),C=!1},d(t){t&&u(e),s(O,t),D(R),_=!1,r(N)}}}function Z(t,e,n){let r=["OrgHaushaltA","OrgHaushaltB","OrgHaushaltC","OrgNetzbetreiber"],o={capacity:"",newOwner:""};return[o,r,function(){o.capacity=this.value,n(0,o),n(1,r)},function(){o.newOwner=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,o),n(1,r)}]}class tt extends V{constructor(t){super(),q(this,t,Z,Y,c,{})}}function et(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function nt(e){let n,r,o=e[13].message+"";return{c(){n=a("p"),r=f(o),p(n,"class","bg-red-600 text-gray-100 text-center")},m(t,e){i(t,n,e),l(n,r)},p:t,d(t){t&&u(n)}}}function rt(t){let e,n,r,o,c,f,g=t[9],h=[];for(let e=0;e<g.length;e+=1)h[e]=ot(et(t,g,e));return{c(){e=a("table"),n=a("thead"),n.innerHTML='<tr><th><abbr title="Position">Pos</abbr></th> \n                <th>ID</th> \n                <th>Energie</th> \n                <th>Preis</th> \n                <th>Besitzer</th> \n                <th>Verkaufsdatum</th></tr>',r=d(),o=a("tbody");for(let t=0;t<h.length;t+=1)h[t].c();c=d(),f=a("tfoot"),p(o,"class","text-center"),p(e,"class","table-auto w-full")},m(t,u){i(t,e,u),l(e,n),l(e,r),l(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);l(e,c),l(e,f)},p(t,e){if(3&e){let n;for(g=t[9],n=0;n<g.length;n+=1){const r=et(t,g,n);h[n]?h[n].p(r,e):(h[n]=ot(r),h[n].c(),h[n].m(o,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=g.length}},d(t){t&&u(e),s(h,t)}}}function ot(t){let e,n,r,o,c,s,h,m,$,b,v,x,y,w,k,R,C,_,E,N,j,O,S=t[12]+1+"",z=t[10].Record.energyNumber+"",L=t[10].Record.capacity+"",T=t[10].Record.price?t[10].Record.price+"c":"-",A=t[10].Record.owner+"",M=t[10].Record.sellDateTime+"";function P(){return t[5](t[12])}return{c(){e=a("tr"),n=a("th"),r=f(S),o=d(),c=a("td"),s=f(z),h=d(),m=a("td"),$=f(L),b=f(" kWh"),v=d(),x=a("td"),y=f(T),w=d(),k=a("td"),R=f(A),C=d(),_=a("td"),E=f(M),N=d(),p(e,"class"," hover:bg-gray-600 hover:text-gray-100 cursor-pointer active:bg-blue-500")},m(t,u){i(t,e,u),l(e,n),l(n,r),l(e,o),l(e,c),l(c,s),l(e,h),l(e,m),l(m,$),l(m,b),l(e,v),l(e,x),l(x,y),l(e,w),l(e,k),l(k,R),l(e,C),l(e,_),l(_,E),l(e,N),j||(O=g(e,"click",P),j=!0)},p(e,n){t=e},d(t){t&&u(e),j=!1,O()}}}function ct(e){let n;return{c(){n=a("p"),n.textContent="...laden",p(n,"class","text-center")},m(t,e){i(t,n,e)},p:t,d(t){t&&u(n)}}}function lt(e){let n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:ct,then:rt,catch:nt,value:9,error:13};return B(e[0],r),{c(){n=f(""),r.block.c()},m(t,e){i(t,n,e),r.block.m(t,r.anchor=e),r.mount=()=>n.parentNode,r.anchor=n},p(t,[n]){{const o=(e=t).slice();o[9]=o[13]=r.resolved,r.block.p(o,n)}},i:t,o:t,d(t){t&&u(n),r.block.d(t),r.token=null,r=null}}}function it(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{u(r.next(t))}catch(t){c(t)}}function i(t){try{u(r.throw(t))}catch(t){c(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}u((r=r.apply(t,e||[])).next())}))};let o,{sum:c=0}=e,{txn:l}=e,{fetchURL:i="/getOwn"}=e,u=function(){return r(this,void 0,void 0,(function*(){const t=yield fetch(i);if(o=yield t.json(),t.ok){for(let t of o)n(2,c+=t.Record.capacity);return o}throw new Error("Couldn't fetch data.")}))}();const s=t=>{n(3,l=o[t])};return t.$$set=t=>{"sum"in t&&n(2,c=t.sum),"txn"in t&&n(3,l=t.txn),"fetchURL"in t&&n(4,i=t.fetchURL)},[u,s,c,l,i,t=>{s(t)}]}class ut extends V{constructor(t){super(),q(this,t,it,lt,c,{sum:2,txn:3,fetchURL:4})}}function st(e){let n,r,o,c,s,g,m,$,b,v,x,y,w,k,R,C,_,E,N,j,O,S,z,L,T,A,M,P,U,B,H,W=e[0].Record.energyNumber+"",I=e[0].Record.price?e[0].Record.price+" Credits":"",D=(e[0].Record.currentState?e[1][e[0].Record.currentState]:"")+"",K=e[0].Record.capacity+"",q=e[0].Record.owner+"";return{c(){n=a("table"),r=a("tr"),o=a("th"),o.textContent="ID:",c=d(),s=a("td"),g=f(W),m=d(),$=a("tr"),b=a("th"),b.textContent="Preis:",v=d(),x=a("td"),y=f(I),w=d(),k=a("tr"),R=a("th"),R.textContent="Status:",C=d(),_=a("td"),E=f(D),N=d(),j=a("tr"),O=a("th"),O.textContent="Menge:",S=d(),z=a("td"),L=f(K),T=f(" kWh"),A=d(),M=a("tr"),P=a("th"),P.textContent="Besiztzer:",U=d(),B=a("td"),H=f(q),p(o,"class","text-right pr-2"),p(b,"class","text-right pr-2"),p(R,"class","text-right pr-2"),p(O,"class","text-right pr-2"),p(P,"class","text-right pr-2"),p(n,"class","w-full")},m(t,e){i(t,n,e),l(n,r),l(r,o),l(r,c),l(r,s),l(s,g),l(n,m),l(n,$),l($,b),l($,v),l($,x),l(x,y),l(n,w),l(n,k),l(k,R),l(k,C),l(k,_),l(_,E),l(n,N),l(n,j),l(j,O),l(j,S),l(j,z),l(z,L),l(z,T),l(n,A),l(n,M),l(M,P),l(M,U),l(M,B),l(B,H)},p(t,[e]){1&e&&W!==(W=t[0].Record.energyNumber+"")&&h(g,W),1&e&&I!==(I=t[0].Record.price?t[0].Record.price+" Credits":"")&&h(y,I),1&e&&D!==(D=(t[0].Record.currentState?t[1][t[0].Record.currentState]:"")+"")&&h(E,D),1&e&&K!==(K=t[0].Record.capacity+"")&&h(L,K),1&e&&q!==(q=t[0].Record.owner+"")&&h(H,q)},i:t,o:t,d(t){t&&u(n)}}}function at(t,e,n){let{txn:r={Key:"",Record:{class:"",currentState:"",energyNumber:"",expiredDateTime:"",capacity:"",mspid:"",owner:"",sellDateTime:"",seller:"",price:""}}}=e;return t.$$set=t=>{"txn"in t&&n(0,r=t.txn)},[r,["NEUTRAL","SELLING","BOUGHT"]]}class ft extends V{constructor(t){super(),q(this,t,at,st,c,{txn:0})}}function dt(e){let n;return{c(){n=a("p"),n.textContent="Wähle einen Eintrag aus.",p(n,"class","p-2 text-center")},m(t,e){i(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function gt(t){let e,n,o,c,s,f,h,$,b,v,x,y,w;return e=new ft({props:{txn:t[1]}}),f=new F({props:{label:"Splitten",url:"/splitEnergy",json:{owner:t[1].Record.owner,energyNumber:t[1].Record.energyNumber,splitAmount:t[2]},active:!!Number(t[2])}}),v=new F({props:{label:"Verkaufen",url:"/sellEnergy",json:{energyNumber:t[1].Record.energyNumber,credits:t[0]}}}),{c(){W(e.$$.fragment),n=d(),o=a("div"),c=a("input"),s=d(),W(f.$$.fragment),h=d(),$=a("input"),b=d(),W(v.$$.fragment),p(c,"class","block w-full my-2 -mb-2 p-2 bg-white hover:bg-gray-100 rounded text-center appearance-none"),p(c,"placeholder","Energie aufspalten, bspw. 100"),p($,"class","block w-full my-2 -mb-2 p-2 bg-white hover:bg-gray-100 rounded text-center appearance-none"),p($,"placeholder","Verkaufswert in Credits, bspw. 3"),p(o,"class","m-full p-2")},m(r,u){I(e,r,u),i(r,n,u),i(r,o,u),l(o,c),m(c,t[2]),l(o,s),I(f,o,null),l(o,h),l(o,$),m($,t[0]),l(o,b),I(v,o,null),x=!0,y||(w=[g(c,"input",t[4]),g($,"input",t[5])],y=!0)},p(t,n){const r={};2&n&&(r.txn=t[1]),e.$set(r),4&n&&c.value!==t[2]&&m(c,t[2]);const o={};6&n&&(o.json={owner:t[1].Record.owner,energyNumber:t[1].Record.energyNumber,splitAmount:t[2]}),4&n&&(o.active=!!Number(t[2])),f.$set(o),1&n&&$.value!==t[0]&&m($,t[0]);const l={};3&n&&(l.json={energyNumber:t[1].Record.energyNumber,credits:t[0]}),v.$set(l)},i(t){x||(P(e.$$.fragment,t),P(f.$$.fragment,t),P(v.$$.fragment,t),x=!0)},o(t){U(e.$$.fragment,t),U(f.$$.fragment,t),U(v.$$.fragment,t),x=!1},d(t){D(e,t),t&&u(n),t&&u(o),D(f),D(v),y=!1,r(w)}}}function pt(t){let e,n,r,o,c,s,g,m,$,b,v,x,y,k,R,C,_,E,j,O,S,z,L,T,B,K,q,V,G,J,F,X;const Q=[gt,dt],Y=[];function Z(t,e){return t[1]?0:1}function tt(e){t[6](e)}function et(e){t[7](e)}c=Z(t),s=Y[c]=Q[c](t);let nt={fetchURL:"/getOwn"};function rt(e){t[8](e)}void 0!==t[1]&&(nt.txn=t[1]),void 0!==t[3]&&(nt.sum=t[3]),T=new ut({props:nt}),w.push((()=>H(T,"txn",tt))),w.push((()=>H(T,"sum",et)));let ot={fetchURL:"/getOwnSelling"};return void 0!==t[1]&&(ot.txn=t[1]),J=new ut({props:ot}),w.push((()=>H(J,"txn",rt))),{c(){e=a("div"),n=a("div"),r=a("div"),r.textContent="Energie Info",o=d(),s.c(),g=d(),m=a("div"),$=a("div"),b=a("b"),b.textContent="Credits:",v=d(),x=f(t[0]),y=f("c"),k=d(),R=a("div"),C=a("b"),C.textContent="Energiebalance:",_=d(),E=f(t[3]),j=f(" kWh"),O=d(),S=a("div"),z=a("div"),z.textContent="Meine Energie",L=d(),W(T.$$.fragment),q=d(),V=a("div"),V.textContent="Energie die ich verkaufe",G=d(),W(J.$$.fragment),p(r,"class","title svelte-1xamh02"),p(n,"class","m-1 bg-blue-200 rounded-lg"),p(m,"class","mx-1 mt-4 p-2 bg-blue-200 text-center rounded-lg"),p(e,"class","bg-gray-200 w-1/3 h-full text-lg shadow-inner svg-bg"),p(z,"class","title svelte-1xamh02"),p(V,"class","title svelte-1xamh02"),p(S,"class","bg-gray-100 w-full h-full text-lg")},m(t,u){i(t,e,u),l(e,n),l(n,r),l(n,o),Y[c].m(n,null),l(e,g),l(e,m),l(m,$),l($,b),l($,v),l($,x),l($,y),l(m,k),l(m,R),l(R,C),l(R,_),l(R,E),l(R,j),i(t,O,u),i(t,S,u),l(S,z),l(S,L),I(T,S,null),l(S,q),l(S,V),l(S,G),I(J,S,null),X=!0},p(t,[e]){let r=c;c=Z(t),c===r?Y[c].p(t,e):(A(),U(Y[r],1,1,(()=>{Y[r]=null})),M(),s=Y[c],s?s.p(t,e):(s=Y[c]=Q[c](t),s.c()),P(s,1),s.m(n,null)),(!X||1&e)&&h(x,t[0]),(!X||8&e)&&h(E,t[3]);const o={};!B&&2&e&&(B=!0,o.txn=t[1],N((()=>B=!1))),!K&&8&e&&(K=!0,o.sum=t[3],N((()=>K=!1))),T.$set(o);const l={};!F&&2&e&&(F=!0,l.txn=t[1],N((()=>F=!1))),J.$set(l)},i(t){X||(P(s),P(T.$$.fragment,t),P(J.$$.fragment,t),X=!0)},o(t){U(s),U(T.$$.fragment,t),U(J.$$.fragment,t),X=!1},d(t){t&&u(e),Y[c].d(),t&&u(O),t&&u(S),D(T),D(J)}}}function ht(t,e,n){let r,{credits:o=0}=e,c="",l=0;return t.$$set=t=>{"credits"in t&&n(0,o=t.credits)},[o,r,c,l,function(){c=this.value,n(2,c)},function(){o=this.value,n(0,o)},function(t){r=t,n(1,r)},function(t){l=t,n(3,l)},function(t){r=t,n(1,r)}]}class mt extends V{constructor(t){super(),q(this,t,ht,pt,c,{credits:0})}}function $t(e){let n;return{c(){n=a("p"),n.textContent="Keine Verbindung"},m(t,e){i(t,n,e)},p:t,d(t){t&&u(n)}}}function bt(t){let e,n,r,o,c=t[4].organization+"",s=t[4].peer+"";return{c(){e=a("p"),n=f(c),r=f(" 🌐 "),o=f(s)},m(t,c){i(t,e,c),l(e,n),l(e,r),l(e,o)},p(t,e){1&e&&c!==(c=t[4].organization+"")&&h(n,c),1&e&&s!==(s=t[4].peer+"")&&h(o,s)},d(t){t&&u(e)}}}function vt(e){let n;return{c(){n=a("p"),n.textContent="...verbinden"},m(t,e){i(t,n,e)},p:t,d(t){t&&u(n)}}}function xt(e){let n,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:vt,then:bt,catch:$t,value:4,error:5};return B(r=e[0],o),{c(){n=a("div"),o.block.c(),p(n,"class","absolute bottom-0 left-0 w-screen bg-gray-600 text-center text-white text-xl p-2")},m(t,e){i(t,n,e),o.block.m(n,o.anchor=null),o.mount=()=>n,o.anchor=null},p(t,[n]){if(e=t,o.ctx=e,1&n&&r!==(r=e[0])&&B(r,o));else{const t=e.slice();t[4]=t[5]=o.resolved,o.block.p(t,n)}},i:t,o:t,d(t){t&&u(n),o.block.d(),o.token=null,o=null}}}function yt(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{u(r.next(t))}catch(t){c(t)}}function i(t){try{u(r.throw(t))}catch(t){c(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}u((r=r.apply(t,e||[])).next())}))};let{org:o="Organization"}=e;function c(){return r(this,void 0,void 0,(function*(){let t=yield fetch("/getInfo"),e=yield t.json();if(t.ok)return n(1,o=e.organization),document.title=`${o} | Solarblock`,e;throw new Error("Couldn't fetch data.")}))}let l=c();return setInterval((()=>{n(0,l=c())}),6e4),t.$$set=t=>{"org"in t&&n(1,o=t.org)},[l,o]}class wt extends V{constructor(t){super(),q(this,t,yt,xt,c,{org:1})}}function kt(e){let n;return{c(){n=a("p"),n.textContent="Wähle ein Angebot aus.",p(n,"class","p-2 text-center")},m(t,e){i(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Rt(t){let e,n,r,o,c;return e=new ft({props:{txn:t[1]}}),o=new F({props:{label:"Kaufen?",url:"/buyEnergy",json:{seller:t[1].Record.seller,energyNumber:t[1].Record.energyNumber}}}),{c(){W(e.$$.fragment),n=d(),r=a("div"),W(o.$$.fragment),p(r,"class","m-full p-2")},m(t,l){I(e,t,l),i(t,n,l),i(t,r,l),I(o,r,null),c=!0},p(t,n){const r={};2&n&&(r.txn=t[1]),e.$set(r);const c={};2&n&&(c.json={seller:t[1].Record.seller,energyNumber:t[1].Record.energyNumber}),o.$set(c)},i(t){c||(P(e.$$.fragment,t),P(o.$$.fragment,t),c=!0)},o(t){U(e.$$.fragment,t),U(o.$$.fragment,t),c=!1},d(t){D(e,t),t&&u(n),t&&u(r),D(o)}}}function Ct(t){let e,n,r,o,c,s,g,m,$,b,v,x,y,k,R,C,_,E,j,O;const S=[Rt,kt],z=[];function L(t,e){return t[1]?0:1}function T(e){t[2](e)}c=L(t),s=z[c]=S[c](t);let B={fetchURL:"/getSelling"};return void 0!==t[1]&&(B.txn=t[1]),E=new ut({props:B}),w.push((()=>H(E,"txn",T))),{c(){e=a("div"),n=a("div"),r=a("div"),r.textContent="Kaufen",o=d(),s.c(),g=d(),m=a("div"),$=a("div"),b=a("b"),b.textContent="Credits:",v=d(),x=f(t[0]),y=f("c"),k=d(),R=a("div"),C=a("div"),C.textContent="Markplatz",_=d(),W(E.$$.fragment),p(r,"class","title svelte-1xamh02"),p(n,"class","m-1 bg-blue-200 rounded-lg"),p(m,"class","mx-1 mt-4 p-2 bg-blue-200 text-center rounded-lg"),p(e,"class","bg-gray-200 w-1/3 h-full text-lg shadow-inner svg-bg"),p(C,"class","title svelte-1xamh02"),p(R,"class","bg-gray-100 w-full h-full text-lg")},m(t,u){i(t,e,u),l(e,n),l(n,r),l(n,o),z[c].m(n,null),l(e,g),l(e,m),l(m,$),l($,b),l($,v),l($,x),l($,y),i(t,k,u),i(t,R,u),l(R,C),l(R,_),I(E,R,null),O=!0},p(t,[e]){let r=c;c=L(t),c===r?z[c].p(t,e):(A(),U(z[r],1,1,(()=>{z[r]=null})),M(),s=z[c],s?s.p(t,e):(s=z[c]=S[c](t),s.c()),P(s,1),s.m(n,null)),(!O||1&e)&&h(x,t[0]);const o={};!j&&2&e&&(j=!0,o.txn=t[1],N((()=>j=!1))),E.$set(o)},i(t){O||(P(s),P(E.$$.fragment,t),O=!0)},o(t){U(s),U(E.$$.fragment,t),O=!1},d(t){t&&u(e),z[c].d(),t&&u(k),t&&u(R),D(E)}}}function _t(t,e,n){let r,{credits:o=0}=e;return t.$$set=t=>{"credits"in t&&n(0,o=t.credits)},[o,r,function(t){r=t,n(1,r)}]}class Et extends V{constructor(t){super(),q(this,t,_t,Ct,c,{credits:0})}}class Nt extends V{constructor(t){super(),q(this,t,null,null,c,{})}}function jt(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Ot(t){let e,n,r,o,c,s,m,$=t[10].emoji+"";function b(){return t[4](t[12])}return{c(){e=a("div"),n=a("div"),r=f($),o=d(),p(n,"class","flex justify-center items-center w-full h-full text-3xl"),p(e,"class",c=(t[10].active?"selected":"")+" rounded-full h-16 w-16 m-3 bg-gray-200 hover:bg-gray-300 cursor-pointer svelte-27kzv2")},m(t,c){i(t,e,c),l(e,n),l(n,r),l(e,o),s||(m=g(e,"click",b),s=!0)},p(n,o){t=n,4&o&&$!==($=t[10].emoji+"")&&h(r,$),4&o&&c!==(c=(t[10].active?"selected":"")+" rounded-full h-16 w-16 m-3 bg-gray-200 hover:bg-gray-300 cursor-pointer svelte-27kzv2")&&p(e,"class",c)},d(t){t&&u(e),s=!1,m()}}}function St(e){let n,r;return n=new tt({}),{c(){W(n.$$.fragment)},m(t,e){I(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(t){D(n,t)}}}function zt(t){let e,n;return e=new Et({props:{credits:t[1]}}),{c(){W(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.credits=t[1]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Lt(t){let e,n;return e=new mt({props:{credits:t[1]}}),{c(){W(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.credits=t[1]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Tt(t){let e,n,r,o,c,f,g,h,m,$,b,v;e=new Nt({});let x=t[2],y=[];for(let e=0;e<x.length;e+=1)y[e]=Ot(jt(t,x,e));const k=[Lt,zt,St],R=[];function C(t,e){return t[2][0].active?0:t[2][1].active?1:t[2][2].active?2:-1}function _(e){t[5](e)}~(g=C(t))&&(h=R[g]=k[g](t));let E={};return void 0!==t[0]&&(E.org=t[0]),$=new wt({props:E}),w.push((()=>H($,"org",_))),{c(){W(e.$$.fragment),n=d(),r=a("main"),o=a("div"),c=a("div");for(let t=0;t<y.length;t+=1)y[t].c();f=d(),h&&h.c(),m=d(),W($.$$.fragment),p(c,"class","bg-gray-100"),p(o,"class","w-full h-full flex"),p(r,"class","w-screen h-screen flex flex-col")},m(t,u){I(e,t,u),i(t,n,u),i(t,r,u),l(r,o),l(o,c);for(let t=0;t<y.length;t+=1)y[t].m(c,null);l(o,f),~g&&R[g].m(o,null),l(r,m),I($,r,null),v=!0},p(t,[e]){if(12&e){let n;for(x=t[2],n=0;n<x.length;n+=1){const r=jt(t,x,n);y[n]?y[n].p(r,e):(y[n]=Ot(r),y[n].c(),y[n].m(c,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=x.length}let n=g;g=C(t),g===n?~g&&R[g].p(t,e):(h&&(A(),U(R[n],1,1,(()=>{R[n]=null})),M()),~g?(h=R[g],h?h.p(t,e):(h=R[g]=k[g](t),h.c()),P(h,1),h.m(o,null)):h=null);const r={};!b&&1&e&&(b=!0,r.org=t[0],N((()=>b=!1))),$.$set(r)},i(t){v||(P(e.$$.fragment,t),P(h),P($.$$.fragment,t),v=!0)},o(t){U(e.$$.fragment,t),U(h),U($.$$.fragment,t),v=!1},d(t){D(e,t),t&&u(n),t&&u(r),s(y,t),~g&&R[g].d(),D($)}}}function At(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{u(r.next(t))}catch(t){c(t)}}function i(t){try{u(r.throw(t))}catch(t){c(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}u((r=r.apply(t,e||[])).next())}))};let o=0;!function(){r(this,void 0,void 0,(function*(){const t=yield fetch("getCredits");let e=yield t.json();if(t.ok)return n(1,o=e),e;throw new Error("Couldn't fetch data.")}))}();let c=[{emoji:"⚡",active:!0,component:"Energy",name:"Meine Energie"},{emoji:"🛒",active:!1,component:"Market",name:"Marktplatz"}],l="";function i(t){for(let t=0;t<c.length;t++)n(2,c[t].active=!1,c);n(2,c[t].active=!0,c)}return t.$$.update=()=>{1&t.$$.dirty&&"OrgNetzbetreiber"===l&&n(2,c=[...c,{emoji:"🔌",active:!1,component:"",name:"Create"}])},[l,o,c,i,t=>i(t),function(t){l=t,n(0,l)}]}return new class extends V{constructor(t){super(),q(this,t,At,Tt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
